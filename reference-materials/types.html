<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Types - Shunt</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Documentation for Shunt">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/css/style.css">
        <link rel="stylesheet" href="../theme/css/mermaid.css">
        <link rel="stylesheet" href="../theme/highlight.js">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "ayu";
            const default_dark_theme = "ayu";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Shunt</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/TheSignPainter98/shunt" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/TheSignPainter98/shunt/blob/master/docs/src/reference-materials/types.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="types"><a class="header" href="#types">Types</a></h1>
<h2 id="availabletrain"><a class="header" href="#availabletrain"><code>AvailableTrain</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L102">Definition</a></p>
<pre><code class="language-moonscript">{
  at_factory: {
    name: string,
    pc_id: number,
  },
  at_station: {
    name: string,
  },
  name: string,
}
</code></pre>
<h2 id="clock"><a class="header" href="#clock"><code>Clock</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/clock.yue#L5">Definition</a></p>
<pre><code class="language-moonscript">{
  now: () =&gt; number,
}
</code></pre>
<h2 id="component"><a class="header" href="#component"><code>Component</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/component.yue#L5">Definition</a></p>
<pre><code class="language-moonscript">{
  events: Queue,
  step: () =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="configlistener"><a class="header" href="#configlistener"><code>ConfigListener</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/listener.yue#L11">Definition</a></p>
<pre><code class="language-moonscript">Component
</code></pre>
<h2 id="configlistenerevent"><a class="header" href="#configlistenerevent"><code>ConfigListenerEvent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/listener.yue#L12">Definition</a></p>
<pre><code class="language-moonscript">{
  type: "network-packet",
}
</code></pre>
<h2 id="configlisteneropts"><a class="header" href="#configlisteneropts"><code>ConfigListenerOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/listener.yue#L15">Definition</a></p>
<pre><code class="language-moonscript">{
  config_type: string,
  target: Component + { config: some },
  uplink: Uplink,
}
</code></pre>
<h2 id="currentreleaserequest"><a class="header" href="#currentreleaserequest"><code>CurrentReleaseRequest</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/monitor.yue#L72">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: number,
  pc_id: number,
}
</code></pre>
<h2 id="declareargs"><a class="header" href="#declareargs"><code>DeclareArgs</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/declare.yue#L11">Definition</a></p>
<pre><code class="language-moonscript">{
  train: ?{
    name: string,
    state: TrainState,
  },
}
</code></pre>
<h2 id="declaretrainstate"><a class="header" href="#declaretrainstate"><code>DeclareTrainState</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/declare.yue#L61">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: IdempotenceToken,
  pc_id: number,
  train_name: string,
  state: TrainState,
}
</code></pre>
<h2 id="declaretrainstateresponse"><a class="header" href="#declaretrainstateresponse"><code>DeclareTrainStateResponse</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/declare.yue#L71">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: IdempotenceToken,
  error_reason: ?string,
}
</code></pre>
<h2 id="deliveryoption"><a class="header" href="#deliveryoption"><code>DeliveryOption</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L97">Definition</a></p>
<pre><code class="language-moonscript">{
  inbound_station: string,
  outbound_station: string,
  train: AvailableTrain,
}
</code></pre>
<h2 id="deliveryoptionset"><a class="header" href="#deliveryoptionset"><code>DeliveryOptionSet</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L92">Definition</a></p>
<pre><code class="language-moonscript">{
  inbound_station: StationAddress,
  outbound_stations: [StationAddress],
  trains: [AvailableTrain],
}
</code></pre>
<h2 id="detectedstations"><a class="header" href="#detectedstations"><code>DetectedStations</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L349">Definition</a></p>
<pre><code class="language-moonscript">{
  known: [KnownDetectedStation],
  unknown: [UnknownDetectedStation],
}
</code></pre>
<h2 id="detectedstockpile"><a class="header" href="#detectedstockpile"><code>DetectedStockpile</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L362">Definition</a></p>
<pre><code class="language-moonscript">{
  known: [StockpileItemInfo],
  unknown: [StoredItemInfo],
  estimated_capacity: number,
}
</code></pre>
<h2 id="detectedtrains"><a class="header" href="#detectedtrains"><code>DetectedTrains</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L358">Definition</a></p>
<pre><code class="language-moonscript">{
  capacity: number,
  present_trains: [string],
}
</code></pre>
<h2 id="displayconfig"><a class="header" href="#displayconfig"><code>DisplayConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/display/main.yue#L20">Definition</a></p>
<pre><code class="language-moonscript">{
  display: {
    ledger: {
      kind: "trains"|"factories"|"throughput"|"events",
    },
  },
}
</code></pre>
<h2 id="drive"><a class="header" href="#drive"><code>Drive</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/drive.yue#L6">Definition</a></p>
<pre><code class="language-moonscript">{
  is_disk_present: () =&gt; boolean,
  mount_path: () =&gt; ?string,
  disk_label: () =&gt; ?string,
  set_disk_label: (?string) =&gt; boolean,
}
</code></pre>
<h2 id="editargs"><a class="header" href="#editargs"><code>EditArgs</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/edit.yue#L16">Definition</a></p>
<pre><code class="language-moonscript">{
  marshal: ?EditMarshalArgs,
  factory: ?EditFactoryArgs,
}
</code></pre>
<h2 id="editfactoryargs"><a class="header" href="#editfactoryargs"><code>EditFactoryArgs</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/edit.yue#L21">Definition</a></p>
<pre><code class="language-moonscript">{
  which: string,
}
</code></pre>
<h2 id="editmarshalargs"><a class="header" href="#editmarshalargs"><code>EditMarshalArgs</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/edit.yue#L20">Definition</a></p>
<pre><code class="language-moonscript">{}
</code></pre>
<h2 id="editor"><a class="header" href="#editor"><code>Editor</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/editor.yue#L6">Definition</a></p>
<pre><code class="language-moonscript">{
  edit_file: (string) =&gt; ?string,
  edit_text: (
      string,
      string,
      ?(string) -&gt; boolean,
      ?(string, number) -&gt; ?ABORT
    ) =&gt; &lt;?string, ?string&gt;,
}
</code></pre>
<h2 id="editorbackend"><a class="header" href="#editorbackend"><code>EditorBackend</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/editor.yue#L15">Definition</a></p>
<pre><code class="language-moonscript">{
  edit_file: (string) =&gt; ?string,
}
</code></pre>
<h2 id="entry"><a class="header" href="#entry"><code>Entry</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/ledger/main.yue#L38">Definition</a></p>
<pre><code class="language-moonscript">{
  when: string,
  what: string,
  how: string,
}
</code></pre>
<h2 id="factory"><a class="header" href="#factory"><code>Factory</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L55">Definition</a></p>
<pre><code class="language-moonscript">{
  -- Constant
  name: string,
  pc_id: number,
  -- Variable
  last_seen_epoch: number,
  stations: DetectedStations,
  stockpile: DetectedStockpile,
}
</code></pre>
<h2 id="factoryconfig"><a class="header" href="#factoryconfig"><code>FactoryConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L126">Definition</a></p>
<pre><code class="language-moonscript">{
  factory: {
    name: string,
  },
  stockpile: [StockpileConfig],
  stations: [StationConfig],
}
</code></pre>
<h2 id="factoryheartbeat"><a class="header" href="#factoryheartbeat"><code>FactoryHeartbeat</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L343">Definition</a></p>
<pre><code class="language-moonscript">{
  pc_id: number,
  name: string,
  stations: DetectedStations,
  stockpile: DetectedStockpile,
}
</code></pre>
<h2 id="firewall"><a class="header" href="#firewall"><code>Firewall</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/firewall.yue#L8">Definition</a></p>
<pre><code class="language-moonscript">{
  add_child: (Firewall) =&gt; &lt;&gt;,
  permits: (Packet) =&gt; boolean,
}
</code></pre>
<h2 id="flashargs"><a class="header" href="#flashargs"><code>FlashArgs</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/flash.yue#L14">Definition</a></p>
<pre><code class="language-moonscript">{
  drive: ?string,
}
</code></pre>
<h2 id="getconfigrequest"><a class="header" href="#getconfigrequest"><code>GetConfigRequest</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/main.yue#L140">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: IdempotenceToken,
  pc_id: number,
}
</code></pre>
<h2 id="idempotencetoken"><a class="header" href="#idempotencetoken"><code>IdempotenceToken</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L219">Definition</a></p>
<pre><code class="language-moonscript">number
</code></pre>
<h2 id="instigatoropts"><a class="header" href="#instigatoropts"><code>InstigatorOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/instigator.yue#L11">Definition</a></p>
<pre><code class="language-moonscript">{
  config: ?{},
  pc: Pc,
  rebooter: ?Rebooter,
  release: Release,
  uplink: ?Uplink,
}
</code></pre>
<h2 id="inventory"><a class="header" href="#inventory"><code>Inventory</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L34">Definition</a></p>
<pre><code class="language-moonscript">{
  gather_content: ({string-&gt;StoredItemInfo}) =&gt; number,
}
</code></pre>
<h2 id="inventorybackend"><a class="header" href="#inventorybackend"><code>InventoryBackend</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L37">Definition</a></p>
<pre><code class="language-moonscript">{
  size: () =&gt; number,
  slot_content: (number) =&gt; ?SlotContent,
  slot_capacity: (number) =&gt; number,
}
</code></pre>
<h2 id="knowndetectedstation"><a class="header" href="#knowndetectedstation"><code>KnownDetectedStation</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L353">Definition</a></p>
<pre><code class="language-moonscript">StationConfig + DetectedTrains
</code></pre>
<h2 id="ledger"><a class="header" href="#ledger"><code>Ledger</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/ledger/main.yue#L35">Definition</a></p>
<pre><code class="language-moonscript">{
  iter: () =&gt; thread,
}
</code></pre>
<h2 id="ledgerconfig"><a class="header" href="#ledgerconfig"><code>LedgerConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/ledger/main.yue#L15">Definition</a></p>
<pre><code class="language-moonscript">{
  ledger: {
    retained-events: number,
  },
}
</code></pre>
<h2 id="ledgerfmtopts"><a class="header" href="#ledgerfmtopts"><code>LedgerFmtOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/ledger/main.yue#L148">Definition</a></p>
<pre><code class="language-moonscript">{
  max_rows: number,
  width: number,
}
</code></pre>
<h2 id="marshalconfig"><a class="header" href="#marshalconfig"><code>MarshalConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L73">Definition</a></p>
<pre><code class="language-moonscript">{
  marshal: {
    resend_cooldown_seconds: ?number,
  },
}
</code></pre>
<h2 id="marshalevent"><a class="header" href="#marshalevent"><code>MarshalEvent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L78">Definition</a></p>
<pre><code class="language-moonscript">{
  type: "network-packet",
  packet: Packet,
} | {
  type: "new-epoch",
  new_epoch: number,
} | {
  type: "new-config",
  config: MarshalConfig,
}
</code></pre>
<h2 id="marshalidentityrequest"><a class="header" href="#marshalidentityrequest"><code>MarshalIdentityRequest</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/main.yue#L123">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: IdempotenceToken,
  pc_id: number,
  name: ?string,
}
</code></pre>
<h2 id="marshalidentityresponse"><a class="header" href="#marshalidentityresponse"><code>MarshalIdentityResponse</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/main.yue#L132">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: IdempotenceToken,
  resp: number|string,
}
</code></pre>
<h2 id="marshalopts"><a class="header" href="#marshalopts"><code>MarshalOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L117">Definition</a></p>
<pre><code class="language-moonscript">{
  config: MarshalConfig+StoredConfig,
  pc: Pc,
  uplink: Uplink,
  rand: ?Random,
  clock: ?Clock,
}
</code></pre>
<h2 id="marshalsnapshot"><a class="header" href="#marshalsnapshot"><code>MarshalSnapshot</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L112">Definition</a></p>
<pre><code class="language-moonscript">{
  version: number,
  epoch: number,
  promise_tracker_snapshot: PromiseTrackerSnapshot,
}
</code></pre>
<h2 id="multiplexer"><a class="header" href="#multiplexer"><code>Multiplexer</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/data/multiplexer.yue#L10">Definition</a></p>
<pre><code class="language-moonscript">{
  add: (() -&gt; &lt;&gt;) =&gt; &lt;&gt;,
  send: (some) =&gt; &lt;&gt;,
  stream: () =&gt; function,
}
</code></pre>
<h2 id="network"><a class="header" href="#network"><code>Network</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L51">Definition</a></p>
<pre><code class="language-moonscript">{
  name: string,
  factories: [Factory],
}
</code></pre>
<h2 id="networkcomponent"><a class="header" href="#networkcomponent"><code>NetworkComponent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/component.yue#L9">Definition</a></p>
<pre><code class="language-moonscript">Component + {
  firewall: Firewall,
}
</code></pre>
<h2 id="networkframe"><a class="header" href="#networkframe"><code>NetworkFrame</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L111">Definition</a></p>
<pre><code class="language-moonscript">{ from_id: number } + NetworkFrameData
</code></pre>
<h2 id="networkframedata"><a class="header" href="#networkframedata"><code>NetworkFrameData</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L114">Definition</a></p>
<pre><code class="language-moonscript">{
  packet: any,
  protocol: ?string,
}
</code></pre>
<h2 id="networkframespec"><a class="header" href="#networkframespec"><code>NetworkFrameSpec</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L110">Definition</a></p>
<pre><code class="language-moonscript">NetworkFrame | () -&gt; NetworkFrame
</code></pre>
<h2 id="packet"><a class="header" href="#packet"><code>Packet</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L88">Definition</a></p>
<pre><code class="language-moonscript">{
  protocol: string,
}
</code></pre>
<h2 id="packettype"><a class="header" href="#packettype"><code>PacketType</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L91">Definition</a></p>
<pre><code class="language-moonscript">{
  protocol: () =&gt; string,
}
</code></pre>
<h2 id="pc"><a class="header" href="#pc"><code>Pc</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/pc.yue#L6">Definition</a></p>
<pre><code class="language-moonscript">{
  id: () =&gt; number,
  name: () =&gt; ?string,
}
</code></pre>
<h2 id="pcbackend"><a class="header" href="#pcbackend"><code>PcBackend</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/pc.yue#L10">Definition</a></p>
<pre><code class="language-moonscript">Pc
</code></pre>
<h2 id="peripheraltype"><a class="header" href="#peripheraltype"><code>PeripheralType</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L72">Definition</a></p>
<pre><code class="language-moonscript">"modem"
</code></pre>
<h2 id="promise"><a class="header" href="#promise"><code>Promise</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/promise_tracker.yue#L15">Definition</a></p>
<pre><code class="language-moonscript">{
  id: number,
  train: string,
  stations: ?[PromiseStation],
  should_approach_index: number,
  deadline: ?number,
  max_step_duration: number,
  lost: boolean,
}
</code></pre>
<h2 id="promiseset"><a class="header" href="#promiseset"><code>PromiseSet</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/promise_tracker.yue#L28">Definition</a></p>
<pre><code class="language-moonscript">{
  count: number,
  promises: {number},
}
</code></pre>
<h2 id="promisestation"><a class="header" href="#promisestation"><code>PromiseStation</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/promise_tracker.yue#L24">Definition</a></p>
<pre><code class="language-moonscript">{
  name: string,
  capacity: number,
}
</code></pre>
<h2 id="promisetracker"><a class="header" href="#promisetracker"><code>PromiseTracker</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/promise_tracker.yue#L8">Definition</a></p>
<pre><code class="language-moonscript">{
  promise: (string, [PromiseStation], ?number, ?number) =&gt; Promise,
  break_promise: (Promise) =&gt; &lt;&gt;,
  train_is_promised: (string) =&gt; boolean,
  station_is_fully_promised: (string) =&gt; boolean,
  declare_train_seen: (string, string) =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="promisetrackersnapshot"><a class="header" href="#promisetrackersnapshot"><code>PromiseTrackerSnapshot</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/promise_tracker.yue#L32">Definition</a></p>
<pre><code class="language-moonscript">[Promise]
</code></pre>
<h2 id="queue"><a class="header" href="#queue"><code>Queue</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/data/queue.yue#L6">Definition</a></p>
<pre><code class="language-moonscript">{
  len: () =&gt; number,
  enqueue: (some) =&gt; &lt;&gt;,
  dequeue: () =&gt; ?some,
  extract: ((some) -&gt; boolean) =&gt; ?some,
  peek: () =&gt; ?some,
  iter: () =&gt; function,
}
</code></pre>
<h2 id="random"><a class="header" href="#random"><code>Random</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/util/pseudo_random.yue#L6">Definition</a></p>
<pre><code class="language-moonscript">{
  random: (number) =&gt; number,
  pick: ([some]) =&gt; ?some,
  shuffle: ([some]) =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="rebooter"><a class="header" href="#rebooter"><code>Rebooter</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/rebooter.yue#L7">Definition</a></p>
<pre><code class="language-moonscript">{
  reboot: () =&gt; !,
}
</code></pre>
<h2 id="release"><a class="header" href="#release"><code>Release</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/upgrade.yue#L40">Definition</a></p>
<pre><code class="language-moonscript">{
  file: string,
  version: string,
  content: string,
}
</code></pre>
<h2 id="resource"><a class="header" href="#resource"><code>Resource</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L35">Definition</a></p>
<pre><code class="language-moonscript">{
  id: () =&gt; string,
  kind: () =&gt; "cargo"|"player"
}
</code></pre>
<h2 id="resourceorchestrator"><a class="header" href="#resourceorchestrator"><code>ResourceOrchestrator</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/main.yue#L11">Definition</a></p>
<pre><code class="language-moonscript">NetworkComponent + {
  factory: (string) =&gt; ?Factory,
  train_is_known: (string) =&gt; boolean,
}
</code></pre>
<h2 id="resourceorchestratorevent"><a class="header" href="#resourceorchestratorevent"><code>ResourceOrchestratorEvent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/main.yue#L17">Definition</a></p>
<pre><code class="language-moonscript">{
  type: "network-packet",
  packet: Packet,
} | {
  type: "new-epoch",
  new_epoch: number,
} | {
  type: "new-config",
  config: MarshalConfig,
}
</code></pre>
<h2 id="resourceorchestratoropts"><a class="header" href="#resourceorchestratoropts"><code>ResourceOrchestratorOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/main.yue#L27">Definition</a></p>
<pre><code class="language-moonscript">{
  clock: Clock,
  config: MarshalConfig,
  scheduler: Scheduler,
  uplink: Uplink,
}
</code></pre>
<h2 id="schedule"><a class="header" href="#schedule"><code>Schedule</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L17">Definition</a></p>
<pre><code class="language-moonscript">{
  cyclic: boolean,
  entries: [ScheduleEntry],
}
</code></pre>
<h2 id="schedulecandidate"><a class="header" href="#schedulecandidate"><code>ScheduleCandidate</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L20">Definition</a></p>
<pre><code class="language-moonscript">{
  train_addr: TrainAddress,
  inbound_station_addr: StationAddress,
  outbound_station_addr: StationAddress,
  schedule: Schedule,
  info: {
    inbound_factory_name: string,
    resource: string,
  },
}
</code></pre>
<h2 id="schedulegenerator"><a class="header" href="#schedulegenerator"><code>ScheduleGenerator</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L198">Definition</a></p>
<pre><code class="language-moonscript">{
  try_generate_schedule: () =&gt; &lt;?ScheduleCandidate, boolean&gt;,
  end_generation: () =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="schedulegeneratorimplopts"><a class="header" href="#schedulegeneratorimplopts"><code>ScheduleGeneratorImplOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L351">Definition</a></p>
<pre><code class="language-moonscript">{
  factories: [Factory],
  factory: Factory,
  promise_tracker: PromiseTracker,
  rand: Random,
  resource: string,
}
</code></pre>
<h2 id="schedulegeneratoropts"><a class="header" href="#schedulegeneratoropts"><code>ScheduleGeneratorOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L202">Definition</a></p>
<pre><code class="language-moonscript">{
  factories: [Factory],
  factory: Factory,
  parent_scheduler: Scheduler,
  rand: Random,
  resource: string,
}
</code></pre>
<h2 id="schedulerequest"><a class="header" href="#schedulerequest"><code>ScheduleRequest</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L321">Definition</a></p>
<pre><code class="language-moonscript">Packet + {
  idemp_tok: IdempotenceToken,
  station_name: string,
  train_name: string,
  schedule: Schedule,
}
</code></pre>
<h2 id="scheduleresponse"><a class="header" href="#scheduleresponse"><code>ScheduleResponse</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L333">Definition</a></p>
<pre><code class="language-moonscript">Packet + {
  idemp_tok: IdempotenceToken,
  error_reason: ?string,
}
</code></pre>
<h2 id="scheduler"><a class="header" href="#scheduler"><code>Scheduler</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L15">Definition</a></p>
<pre><code class="language-moonscript">{
  events: Queue,
  schedule_generator: (string, Factory, [Factory]) =&gt; ScheduleGenerator,
  train_is_lost: (string) =&gt; boolean,
}
</code></pre>
<h2 id="schedulerevent"><a class="header" href="#schedulerevent"><code>SchedulerEvent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L34">Definition</a></p>
<pre><code class="language-moonscript">{
  type: "network-packet",
  packet: Packet,
} | {
  type: "start-scheduling",
  schedule_generator: ScheduleGenerator,
} | {
  type: "declare-train-state",
  train_name: string,
  state: TrainState,
}
</code></pre>
<h2 id="scheduleropts"><a class="header" href="#scheduleropts"><code>SchedulerOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L45">Definition</a></p>
<pre><code class="language-moonscript">{
  clock: Clock,
  rand: Random,
}
</code></pre>
<h2 id="self"><a class="header" href="#self"><code>Self</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/quicktype.yue#L1363">Definition</a></p>
<pre><code class="language-moonscript">some
</code></pre>
<h2 id="setconfigrequest"><a class="header" href="#setconfigrequest"><code>SetConfigRequest</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/main.yue#L152">Definition</a></p>
<pre><code class="language-moonscript">{
  idemp_tok: IdempotenceToken,
  pc_id: number,
  raw: string,
}
</code></pre>
<h2 id="slotcontent"><a class="header" href="#slotcontent"><code>SlotContent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L11">Definition</a></p>
<pre><code class="language-moonscript">{
  displayName: string,
  count: number,
}
</code></pre>
<h2 id="slotdata"><a class="header" href="#slotdata"><code>SlotData</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L7">Definition</a></p>
<pre><code class="language-moonscript">{
  name: string,
  count: number,
}
</code></pre>
<h2 id="state"><a class="header" href="#state"><code>State</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/state.yue#L269">Definition</a></p>
<pre><code class="language-moonscript">{
  _is_end: boolean,
  _transitions: {string},
  _data_type: ?string,
}
</code></pre>
<h2 id="statemachine"><a class="header" href="#statemachine"><code>StateMachine</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/state.yue#L305">Definition</a></p>
<pre><code class="language-moonscript">{
  state: {name: string},
  goto: (string, ?{string -&gt; any}) =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="stateresponses"><a class="header" href="#stateresponses"><code>StateResponses</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/state.yue#L313">Definition</a></p>
<pre><code class="language-moonscript">{string-&gt;()-&gt;&lt;&gt;}
</code></pre>
<h2 id="station"><a class="header" href="#station"><code>Station</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L40">Definition</a></p>
<pre><code class="language-moonscript">{
  name: () =&gt; StationName,
  train_name: () =&gt; ?string,
  apply_schedule: (Schedule) =&gt; boolean,
}
</code></pre>
<h2 id="stationaddress"><a class="header" href="#stationaddress"><code>StationAddress</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L88">Definition</a></p>
<pre><code class="language-moonscript">{
  factory: Factory,
  station: StationConfig,
}
</code></pre>
<h2 id="stationbackend"><a class="header" href="#stationbackend"><code>StationBackend</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L6">Definition</a></p>
<pre><code class="language-moonscript">{
  name: () =&gt; StationName,
  set_name: (StationName) =&gt; &lt;&gt;,
  train_present: () =&gt; boolean,
  train_enroute: () =&gt; boolean,
  train_has_schedule: () =&gt; ?boolean,
  train_schedule: () =&gt; ?Schedule,
  train_set_schedule: (Schedule) =&gt; boolean,
  train_name: () =&gt; ?string,
}
</code></pre>
<h2 id="stationconfig"><a class="header" href="#stationconfig"><code>StationConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L146">Definition</a></p>
<pre><code class="language-moonscript">{
  name: string,
  type: "inbound"|"outbound",
  handles: string,
  network: string,
}
</code></pre>
<h2 id="stationinfo"><a class="header" href="#stationinfo"><code>StationInfo</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L45">Definition</a></p>
<pre><code class="language-moonscript">{
  name: StationName,
  train_name: ?string,
}
</code></pre>
<h2 id="stationname"><a class="header" href="#stationname"><code>StationName</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L16">Definition</a></p>
<pre><code class="language-moonscript">string
</code></pre>
<h2 id="stationperipheral"><a class="header" href="#stationperipheral"><code>StationPeripheral</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L91">Definition</a></p>
<pre><code class="language-moonscript">{
  getStationName: () =&gt; StationName,
}
</code></pre>
<h2 id="stockpile"><a class="header" href="#stockpile"><code>Stockpile</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L16">Definition</a></p>
<pre><code class="language-moonscript">{
  content: () =&gt; StockpileContent,
}
</code></pre>
<h2 id="stockpileconfig"><a class="header" href="#stockpileconfig"><code>StockpileConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L133">Definition</a></p>
<pre><code class="language-moonscript">{name: string}
  + StockpileLevelConfig
</code></pre>
<h2 id="stockpilecontent"><a class="header" href="#stockpilecontent"><code>StockpileContent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L69">Definition</a></p>
<pre><code class="language-moonscript">{
  stored_items: [StoredItemInfo],
  estimated_capacity: number,
}
</code></pre>
<h2 id="stockpileiteminfo"><a class="header" href="#stockpileiteminfo"><code>StockpileItemInfo</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L367">Definition</a></p>
<pre><code class="language-moonscript">StoredItemInfo + StockpileConfig
</code></pre>
<h2 id="stockpilelevelconfig"><a class="header" href="#stockpilelevelconfig"><code>StockpileLevelConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L137">Definition</a></p>
<pre><code class="language-moonscript">{
  surplus_amount: number,
  shortage_amount: ?number,
} | {
  surplus_amount: ?number,
  shortage_amount: number,
}
</code></pre>
<h2 id="storedconfig"><a class="header" href="#storedconfig"><code>StoredConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/config.yue#L9">Definition</a></p>
<pre><code class="language-moonscript">{
  &lt;&gt;: {
    __raw: string,
  },
}
</code></pre>
<h2 id="storediteminfo"><a class="header" href="#storediteminfo"><code>StoredItemInfo</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L73">Definition</a></p>
<pre><code class="language-moonscript">{
  name: string,
  stored: number,
}
</code></pre>
<h2 id="testdriveopts"><a class="header" href="#testdriveopts"><code>TestDriveOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/drive.yue#L48">Definition</a></p>
<pre><code class="language-moonscript">{
  is_disk_present: ?() =&gt; boolean,
  mount_path: ?() =&gt; ?string,
  disk_label: ?() =&gt; ?string,
  set_disk_label: ?(?string) =&gt; boolean,
}
</code></pre>
<h2 id="testeditorbackendopts"><a class="header" href="#testeditorbackendopts"><code>TestEditorBackendOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/configurator/editor.yue#L74">Definition</a></p>
<pre><code class="language-moonscript">{
  edit_file: ?(string) =&gt; ?string,
}
</code></pre>
<h2 id="testinventorybackendopts"><a class="header" href="#testinventorybackendopts"><code>TestInventoryBackendOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/stockpile.yue#L96">Definition</a></p>
<pre><code class="language-moonscript">{
  size: ?() =&gt; number,
  list: ?() =&gt; {number-&gt;SlotData},
  slot_content: ?(number) =&gt; ?SlotContent,
  slot_capacity: ?(number) =&gt; number,
}
</code></pre>
<h2 id="testpcbackendopts"><a class="header" href="#testpcbackendopts"><code>TestPcBackendOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/pc.yue#L33">Definition</a></p>
<pre><code class="language-moonscript">{
  id: ?() =&gt; number,
  name: ?() =&gt; ?string,
  set_name: ?(string) =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="teststationbackendopts"><a class="header" href="#teststationbackendopts"><code>TestStationBackendOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L146">Definition</a></p>
<pre><code class="language-moonscript">{
  name: ?() =&gt; StationName,
  set_name: ?(StationName) =&gt; &lt;&gt;,
  train_present: ?() =&gt; boolean,
  train_enroute: ?() =&gt; boolean,
  train_has_schedule: ?() =&gt; ?boolean,
  train_schedule: ?() =&gt; ?Schedule,
  train_set_schedule: ?(Schedule) =&gt; boolean,
  train_name: ?() =&gt; ?string,
}
</code></pre>
<h2 id="testuplinkbackendopts"><a class="header" href="#testuplinkbackendopts"><code>TestUplinkBackendOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L104">Definition</a></p>
<pre><code class="language-moonscript">{
  to_receive: ?[NetworkFrameSpec] | () -&gt; [NetworkFrameSpec],
  on_send: ?(number, any, ?string) =&gt; boolean,
  on_receive: ?(?string, ?number) =&gt; &lt;?number|boolean, any|TIMEOUT, ?string&gt;,
  on_broadcast: ?(any, ?string) =&gt; boolean,
}
</code></pre>
<h2 id="timeunit"><a class="header" href="#timeunit"><code>TimeUnit</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/station.yue#L34">Definition</a></p>
<pre><code class="language-moonscript">0|1|2
</code></pre>
<h2 id="trainaddress"><a class="header" href="#trainaddress"><code>TrainAddress</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/resource_orchestrator/scheduler.yue#L30">Definition</a></p>
<pre><code class="language-moonscript">{ name: string }
  + StationAddress
</code></pre>
<h2 id="trainstate"><a class="header" href="#trainstate"><code>TrainState</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/cmd/declare.yue#L17">Definition</a></p>
<pre><code class="language-moonscript">"cleared"|"reserved"
</code></pre>
<h2 id="trainstatus"><a class="header" href="#trainstatus"><code>TrainStatus</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/marshal/main.yue#L64">Definition</a></p>
<pre><code class="language-moonscript">{
  -- Constant:
  name: string,
  -- Variable:
  last_seen_epoch: number,
  last_seen_at_factory: string,
  last_seen_at_station: string,
}
</code></pre>
<h2 id="unknowndetectedstation"><a class="header" href="#unknowndetectedstation"><code>UnknownDetectedStation</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/nodes/factory/main.yue#L354">Definition</a></p>
<pre><code class="language-moonscript">{ name: string }
  + DetectedTrains
</code></pre>
<h2 id="upgradelistener"><a class="header" href="#upgradelistener"><code>UpgradeListener</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/listener.yue#L14">Definition</a></p>
<pre><code class="language-moonscript">NetworkComponent
</code></pre>
<h2 id="upgradelistenerconfig"><a class="header" href="#upgradelistenerconfig"><code>UpgradeListenerConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/listener.yue#L25">Definition</a></p>
<pre><code class="language-moonscript">{
  marshal: ?{},
}
</code></pre>
<h2 id="upgradelistenerevent"><a class="header" href="#upgradelistenerevent"><code>UpgradeListenerEvent</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/listener.yue#L16">Definition</a></p>
<pre><code class="language-moonscript">{
  type: "network-packet",
  packet: Packet,
}
</code></pre>
<h2 id="upgradelistenerkind"><a class="header" href="#upgradelistenerkind"><code>UpgradeListenerKind</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/listener.yue#L15">Definition</a></p>
<pre><code class="language-moonscript">"leader"|"follower"
</code></pre>
<h2 id="upgradelisteneropts"><a class="header" href="#upgradelisteneropts"><code>UpgradeListenerOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/listener.yue#L20">Definition</a></p>
<pre><code class="language-moonscript">{
  config: UpgradeListenerConfig,
  uplink: Uplink,
  rebooter: ?Rebooter,
}
</code></pre>
<h2 id="upgrademonitorconfig"><a class="header" href="#upgrademonitorconfig"><code>UpgradeMonitorConfig</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/monitor.yue#L10">Definition</a></p>
<pre><code class="language-moonscript">{
  marshal: ?{},
}
</code></pre>
<h2 id="upgrademonitoropts"><a class="header" href="#upgrademonitoropts"><code>UpgradeMonitorOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/upgrade/monitor.yue#L13">Definition</a></p>
<pre><code class="language-moonscript">{
  config: UpgradeMonitorConfig,
  pc: Pc,
  uplink: Uplink,
}
</code></pre>
<h2 id="uplink"><a class="header" href="#uplink"><code>Uplink</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L16">Definition</a></p>
<pre><code class="language-moonscript">{
  broadcast: (Packet) =&gt; &lt;&gt;,
  send_to: (number, Packet) =&gt; &lt;&gt;,
  receive_from_any: (Packet, ?UplinkReceiveOpts) =&gt; &lt;?number, Packet|TIMEOUT&gt;,
  receive_from: (number, Packet, ?UplinkReceiveOpts) =&gt; &lt;?number, Packet|TIMEOUT&gt;,
}
</code></pre>
<h2 id="uplinkbackend"><a class="header" href="#uplinkbackend"><code>UplinkBackend</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L10">Definition</a></p>
<pre><code class="language-moonscript">{
  send: (number, any, ?string) =&gt; boolean,
  receive: (?string, ?number) =&gt; &lt;?number, any, ?string&gt;,
  broadcast: (any, ?string) =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="uplinkreceiveopts"><a class="header" href="#uplinkreceiveopts"><code>UplinkReceiveOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/peripheral/uplink.yue#L68">Definition</a></p>
<pre><code class="language-moonscript">{
  timeout: ?number,
}
</code></pre>
<h2 id="whence"><a class="header" href="#whence"><code>Whence</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L427">Definition</a></p>
<pre><code class="language-moonscript">"set"|"cur"|"end"
</code></pre>
<h2 id="writelitedelta"><a class="header" href="#writelitedelta"><code>writelite.Delta</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L428">Definition</a></p>
<pre><code class="language-moonscript">{
  offset: number,
  content: string,
}
</code></pre>
<h2 id="writelitedeserialisersource"><a class="header" href="#writelitedeserialisersource"><code>writelite.DeserialiserSource</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L875">Definition</a></p>
<pre><code class="language-moonscript">string|writelite.File
</code></pre>
<h2 id="writelitefile"><a class="header" href="#writelitefile"><code>writelite.File</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L310">Definition</a></p>
<pre><code class="language-moonscript">read: ("*a"|number) =&gt; &lt;?string, ?string&gt;,
write: (string) =&gt; ?string,
seek: (Whence, ?number) =&gt; &lt;?number, ?string&gt;,
setvbuf: ("full") =&gt; &lt;&gt;,
flush: () =&gt; &lt;boolean, ?string&gt;,
close: () =&gt; &lt;boolean, ?string&gt;,
}
</code></pre>
<h2 id="writelitefilemode"><a class="header" href="#writelitefilemode"><code>writelite.FileMode</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L304">Definition</a></p>
<pre><code class="language-moonscript">"r"|"w"|"a"
|"r+"|"w+"|"a+"
|"rb"|"wb"|"ab"
|"rb+"|"wb+"|"ab+"
</code></pre>
<h2 id="writelitefs"><a class="header" href="#writelitefs"><code>writelite.Fs</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L300">Definition</a></p>
<pre><code class="language-moonscript">{
  open: (string, writelite.FileMode) =&gt; &lt;?writelite.File, ?string, ?number&gt;,
  remove: (string) =&gt; boolean,
}
</code></pre>
<h2 id="writelitehasher"><a class="header" href="#writelitehasher"><code>writelite.Hasher</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L1032">Definition</a></p>
<pre><code class="language-moonscript">{
  hash: (any) =&gt; number,
  write: (string) =&gt; &lt;&gt;,
  finish: () =&gt; number,
}
</code></pre>
<h2 id="writelitejournal"><a class="header" href="#writelitejournal"><code>writelite.Journal</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L652">Definition</a></p>
<pre><code class="language-moonscript">{
  pages: () =&gt; [writelite.Page],
  add: (writelite.Page) =&gt; &lt;&gt;,
  write_to: (writelite.File) =&gt; &lt;boolean, ?string&gt;,
}
</code></pre>
<h2 id="writelitejournalheader"><a class="header" href="#writelitejournalheader"><code>writelite.JournalHeader</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L657">Definition</a></p>
<pre><code class="language-moonscript">{
  format_version: 1,
  page_size: number,
  mode: writelite.JournalMode,
  payload_length: number,
}
</code></pre>
<h2 id="writelitejournalmode"><a class="header" href="#writelitejournalmode"><code>writelite.JournalMode</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L663">Definition</a></p>
<pre><code class="language-moonscript">"delete"
</code></pre>
<h2 id="writelitemainheader"><a class="header" href="#writelitemainheader"><code>writelite.MainHeader</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L57">Definition</a></p>
<pre><code class="language-moonscript">{
  format_version: 1,
  page_size: number,
  mode: writelite.Mode,
}
</code></pre>
<h2 id="writelitemode"><a class="header" href="#writelitemode"><code>writelite.Mode</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L56">Definition</a></p>
<pre><code class="language-moonscript">"blob"
</code></pre>
<h2 id="writelitepage"><a class="header" href="#writelitepage"><code>writelite.Page</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L1014">Definition</a></p>
<pre><code class="language-moonscript">{
  offset: number,
  content: string,
  checksum: number,
}
</code></pre>
<h2 id="writelitepagecache"><a class="header" href="#writelitepagecache"><code>writelite.PageCache</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L327">Definition</a></p>
<pre><code class="language-moonscript">{
  get: (number) =&gt; ?writelite.Page,
  set: (number, writelite.Page) =&gt; &lt;&gt;,
  set_max_cached_pages: (number) =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="writelitepagecacheopts"><a class="header" href="#writelitepagecacheopts"><code>writelite.PageCacheOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L332">Definition</a></p>
<pre><code class="language-moonscript">{
  _page_size: number,
  _main_file: ?writelite.File, -- Lazy
}
</code></pre>
<h2 id="writelitepageopts"><a class="header" href="#writelitepageopts"><code>writelite.PageOpts</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L1010">Definition</a></p>
<pre><code class="language-moonscript">{
  offset: number,
  content: string,
}
</code></pre>
<h2 id="writelitetransaction"><a class="header" href="#writelitetransaction"><code>writelite.Transaction</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L421">Definition</a></p>
<pre><code class="language-moonscript">{
  read: ("*a"|number) =&gt; &lt;?string, ?string&gt;,
  write: (string) =&gt; &lt;&gt;,
  seek: (Whence, ?number) =&gt; &lt;?number, ?string&gt;,
  abort: () =&gt; &lt;&gt;,
}
</code></pre>
<h2 id="writelitewritelite"><a class="header" href="#writelitewritelite"><code>writelite.Writelite</code></a></h2>
<p><a href="https://github.com/TheSignPainter98/shunt/blob/master/shunt/writelite.yue#L49">Definition</a></p>
<pre><code class="language-moonscript">{
  mode: (writelite.Mode) =&gt; Self,
  page_size: (number) =&gt; Self,
  open: () =&gt; &lt;boolean, ?string&gt;,
  transaction: ((writelite.Transaction) -&gt; &lt;&gt;) =&gt; &lt;&gt;,
  close: () =&gt; &lt;boolean, ?string&gt;,
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../reference-materials/quicktype-notation/subtyping.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../explanations/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../reference-materials/quicktype-notation/subtyping.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../explanations/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/js/mermaid.min.js"></script>
        <script src="../theme/js/mermaid-init.js"></script>



    </div>
    </body>
</html>
